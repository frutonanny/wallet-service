// Package v1 provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/deepmap/oapi-codegen version v1.11.0 DO NOT EDIT.
package v1

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"
	"time"

	"github.com/getkin/kin-openapi/openapi3"
	"github.com/labstack/echo/v4"
)

// Defines values for GetTransactionsRequestDirection.
const (
	Asc  GetTransactionsRequestDirection = "asc"
	Desc GetTransactionsRequestDirection = "desc"
)

// Defines values for GetTransactionsRequestSortBy.
const (
	Amount    GetTransactionsRequestSortBy = "amount"
	CreatedAt GetTransactionsRequestSortBy = "created_at"
)

// AddData defines model for AddData.
type AddData struct {
	// Текущий баланс пользователя в копейках с учетом пополнения.
	Balance int64 `json:"balance"`
}

// AddRequest defines model for AddRequest.
type AddRequest struct {
	// Сумма в копейках.
	Cash int64 `json:"cash"`

	// Идентификатор пользователя.
	UserID int64 `json:"userID"`
}

// AddResponse defines model for AddResponse.
type AddResponse struct {
	Data  *AddData `json:"data,omitempty"`
	Error *Error   `json:"error,omitempty"`
}

// CancelData defines model for CancelData.
type CancelData struct {
	// Текущий баланс пользователя в копейках с учетом разрезервированных средств.
	Balance int64 `json:"balance"`
}

// CancelRequest defines model for CancelRequest.
type CancelRequest struct {
	// Идентификатор заказа
	OrderID int64 `json:"orderID"`

	// Идентификатор пользователя.
	UserID int64 `json:"userID"`
}

// CancelResponse defines model for CancelResponse.
type CancelResponse struct {
	Data  *CancelData `json:"data,omitempty"`
	Error *Error      `json:"error,omitempty"`
}

// Error defines model for Error.
type Error struct {
	Code    string `json:"code"`
	Message string `json:"message"`
}

// GetBalanceData defines model for GetBalanceData.
type GetBalanceData struct {
	// Текущий баланс пользователя в копейках.
	Balance int64 `json:"balance"`
}

// GetBalanceRequest defines model for GetBalanceRequest.
type GetBalanceRequest struct {
	// Идентификатор пользователя.
	UserID int64 `json:"userID"`
}

// GetBalanceResponse defines model for GetBalanceResponse.
type GetBalanceResponse struct {
	Data  *GetBalanceData `json:"data,omitempty"`
	Error *Error          `json:"error,omitempty"`
}

// GetReportData defines model for GetReportData.
type GetReportData struct {
	// Ссылка на CSV файл.
	Url string `json:"url"`
}

// GetReportRequest defines model for GetReportRequest.
type GetReportRequest struct {
	// Время в формате 'yyyy-mm'.
	Period string `json:"period"`
}

// GetReportResponse defines model for GetReportResponse.
type GetReportResponse struct {
	Data  *GetReportData `json:"data,omitempty"`
	Error *Error         `json:"error,omitempty"`
}

// GetTransactionsByTimeData defines model for GetTransactionsByTimeData.
type GetTransactionsByTimeData struct {
	// Список транзакций пользователя userID.
	Transactions []Transaction `json:"transactions"`
}

// GetTransactionsByTimeRequest defines model for GetTransactionsByTimeRequest.
type GetTransactionsByTimeRequest struct {
	// Временная точка в формате RFC3339, до которой происходит поиск транзакций.
	End time.Time `json:"end"`

	// Временная точка в формате RFC3339, от которой начинается поиск транзакций.
	Start time.Time `json:"start"`

	// Идентификатор пользователя.
	UserID int64 `json:"userID"`
}

// GetTransactionsByTimeResponse defines model for GetTransactionsByTimeResponse.
type GetTransactionsByTimeResponse struct {
	Data  *GetTransactionsByTimeData `json:"data,omitempty"`
	Error *Error                     `json:"error,omitempty"`
}

// GetTransactionsData defines model for GetTransactionsData.
type GetTransactionsData struct {
	// Отсортированный список транзакций пользователя userID.
	Transactions []Transaction `json:"transactions"`
}

// GetTransactionsRequest defines model for GetTransactionsRequest.
type GetTransactionsRequest struct {
	// Направление сортировки (по возрастанию / убыванию).
	Direction GetTransactionsRequestDirection `json:"direction"`

	// Количество записей.
	Limit int64 `json:"limit"`

	// Смещение по записям.
	Offset int64 `json:"offset"`

	// Поле, по которому происходит сортировка (по дате / по сумме).
	SortBy GetTransactionsRequestSortBy `json:"sortBy"`

	// Идентификатор пользователя.
	UserID int64 `json:"userID"`
}

// Направление сортировки (по возрастанию / убыванию).
type GetTransactionsRequestDirection string

// Поле, по которому происходит сортировка (по дате / по сумме).
type GetTransactionsRequestSortBy string

// GetTransactionsResponse defines model for GetTransactionsResponse.
type GetTransactionsResponse struct {
	Data  *GetTransactionsData `json:"data,omitempty"`
	Error *Error               `json:"error,omitempty"`
}

// ReserveData defines model for ReserveData.
type ReserveData struct {
	// Текущий баланс пользователя в копейках за вычетом зарезервированных средств.
	Balance int64 `json:"balance"`
}

// ReserveRequest defines model for ReserveRequest.
type ReserveRequest struct {
	// Идентификатор заказа
	OrderID int64 `json:"orderID"`

	// Стоимость заказа в копейках.
	Price int64 `json:"price"`

	// Идентификатор услуги.
	ServiceID int64 `json:"serviceID"`

	// Идентификатор пользователя.
	UserID int64 `json:"userID"`
}

// ReserveResponse defines model for ReserveResponse.
type ReserveResponse struct {
	Data  *ReserveData `json:"data,omitempty"`
	Error *Error       `json:"error,omitempty"`
}

// Transaction defines model for Transaction.
type Transaction struct {
	// Количество денежных средств, задействованных в данной денежной операции.
	Amount int64 `json:"amount"`

	// Время, когда была совершена операция.
	CreatedAt time.Time `json:"createdAt"`

	// Описание денежной операции.
	Description string `json:"description"`
}

// WriteOffData defines model for WriteOffData.
type WriteOffData struct {
	// Текущий баланс пользователя в копейках за вычетом списанных средств.
	Balance int64 `json:"balance"`
}

// WriteOffRequest defines model for WriteOffRequest.
type WriteOffRequest struct {
	// Идентификатор заказа
	OrderID int64 `json:"orderID"`

	// Стоимость заказа в копейках.
	Price int64 `json:"price"`

	// Идентификатор услуги.
	ServiceID int64 `json:"serviceID"`

	// Идентификатор пользователя.
	UserID int64 `json:"userID"`
}

// WriteOffResponse defines model for WriteOffResponse.
type WriteOffResponse struct {
	Data  *WriteOffData `json:"data,omitempty"`
	Error *Error        `json:"error,omitempty"`
}

// PostAddJSONBody defines parameters for PostAdd.
type PostAddJSONBody = AddRequest

// PostCancelJSONBody defines parameters for PostCancel.
type PostCancelJSONBody = CancelRequest

// PostGetBalanceJSONBody defines parameters for PostGetBalance.
type PostGetBalanceJSONBody = GetBalanceRequest

// PostGetReportJSONBody defines parameters for PostGetReport.
type PostGetReportJSONBody = GetReportRequest

// PostGetTransactionsJSONBody defines parameters for PostGetTransactions.
type PostGetTransactionsJSONBody = GetTransactionsRequest

// PostGetTransactionsByTimeJSONBody defines parameters for PostGetTransactionsByTime.
type PostGetTransactionsByTimeJSONBody = GetTransactionsByTimeRequest

// PostReserveJSONBody defines parameters for PostReserve.
type PostReserveJSONBody = ReserveRequest

// PostWriteOffJSONBody defines parameters for PostWriteOff.
type PostWriteOffJSONBody = WriteOffRequest

// PostAddJSONRequestBody defines body for PostAdd for application/json ContentType.
type PostAddJSONRequestBody = PostAddJSONBody

// PostCancelJSONRequestBody defines body for PostCancel for application/json ContentType.
type PostCancelJSONRequestBody = PostCancelJSONBody

// PostGetBalanceJSONRequestBody defines body for PostGetBalance for application/json ContentType.
type PostGetBalanceJSONRequestBody = PostGetBalanceJSONBody

// PostGetReportJSONRequestBody defines body for PostGetReport for application/json ContentType.
type PostGetReportJSONRequestBody = PostGetReportJSONBody

// PostGetTransactionsJSONRequestBody defines body for PostGetTransactions for application/json ContentType.
type PostGetTransactionsJSONRequestBody = PostGetTransactionsJSONBody

// PostGetTransactionsByTimeJSONRequestBody defines body for PostGetTransactionsByTime for application/json ContentType.
type PostGetTransactionsByTimeJSONRequestBody = PostGetTransactionsByTimeJSONBody

// PostReserveJSONRequestBody defines body for PostReserve for application/json ContentType.
type PostReserveJSONRequestBody = PostReserveJSONBody

// PostWriteOffJSONRequestBody defines body for PostWriteOff for application/json ContentType.
type PostWriteOffJSONRequestBody = PostWriteOffJSONBody

// ServerInterface represents all server handlers.
type ServerInterface interface {

	// (POST /add)
	PostAdd(ctx echo.Context) error

	// (POST /cancel)
	PostCancel(ctx echo.Context) error

	// (POST /getBalance)
	PostGetBalance(ctx echo.Context) error

	// (POST /getReport)
	PostGetReport(ctx echo.Context) error

	// (POST /getTransactions)
	PostGetTransactions(ctx echo.Context) error

	// (POST /getTransactionsByTime)
	PostGetTransactionsByTime(ctx echo.Context) error

	// (POST /reserve)
	PostReserve(ctx echo.Context) error

	// (POST /writeOff)
	PostWriteOff(ctx echo.Context) error
}

// ServerInterfaceWrapper converts echo contexts to parameters.
type ServerInterfaceWrapper struct {
	Handler ServerInterface
}

// PostAdd converts echo context to params.
func (w *ServerInterfaceWrapper) PostAdd(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshalled arguments
	err = w.Handler.PostAdd(ctx)
	return err
}

// PostCancel converts echo context to params.
func (w *ServerInterfaceWrapper) PostCancel(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshalled arguments
	err = w.Handler.PostCancel(ctx)
	return err
}

// PostGetBalance converts echo context to params.
func (w *ServerInterfaceWrapper) PostGetBalance(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshalled arguments
	err = w.Handler.PostGetBalance(ctx)
	return err
}

// PostGetReport converts echo context to params.
func (w *ServerInterfaceWrapper) PostGetReport(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshalled arguments
	err = w.Handler.PostGetReport(ctx)
	return err
}

// PostGetTransactions converts echo context to params.
func (w *ServerInterfaceWrapper) PostGetTransactions(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshalled arguments
	err = w.Handler.PostGetTransactions(ctx)
	return err
}

// PostGetTransactionsByTime converts echo context to params.
func (w *ServerInterfaceWrapper) PostGetTransactionsByTime(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshalled arguments
	err = w.Handler.PostGetTransactionsByTime(ctx)
	return err
}

// PostReserve converts echo context to params.
func (w *ServerInterfaceWrapper) PostReserve(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshalled arguments
	err = w.Handler.PostReserve(ctx)
	return err
}

// PostWriteOff converts echo context to params.
func (w *ServerInterfaceWrapper) PostWriteOff(ctx echo.Context) error {
	var err error

	// Invoke the callback with all the unmarshalled arguments
	err = w.Handler.PostWriteOff(ctx)
	return err
}

// This is a simple interface which specifies echo.Route addition functions which
// are present on both echo.Echo and echo.Group, since we want to allow using
// either of them for path registration
type EchoRouter interface {
	CONNECT(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	DELETE(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	GET(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	HEAD(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	OPTIONS(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	PATCH(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	POST(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	PUT(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	TRACE(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
}

// RegisterHandlers adds each server route to the EchoRouter.
func RegisterHandlers(router EchoRouter, si ServerInterface) {
	RegisterHandlersWithBaseURL(router, si, "")
}

// Registers handlers, and prepends BaseURL to the paths, so that the paths
// can be served under a prefix.
func RegisterHandlersWithBaseURL(router EchoRouter, si ServerInterface, baseURL string) {

	wrapper := ServerInterfaceWrapper{
		Handler: si,
	}

	router.POST(baseURL+"/add", wrapper.PostAdd)
	router.POST(baseURL+"/cancel", wrapper.PostCancel)
	router.POST(baseURL+"/getBalance", wrapper.PostGetBalance)
	router.POST(baseURL+"/getReport", wrapper.PostGetReport)
	router.POST(baseURL+"/getTransactions", wrapper.PostGetTransactions)
	router.POST(baseURL+"/getTransactionsByTime", wrapper.PostGetTransactionsByTime)
	router.POST(baseURL+"/reserve", wrapper.PostReserve)
	router.POST(baseURL+"/writeOff", wrapper.PostWriteOff)

}

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
	"BQAA//+bIqcDXC0AAA==",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %s", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %s", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %s", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	var res = make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	var resolvePath = PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		var pathToFile = url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
